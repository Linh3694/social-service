PORT=5010
MONGODB_URI=mongodb://localhost:27017/wis_social

# Redis Configuration
REDIS_HOST=172.16.20.120
REDIS_PORT=6379
REDIS_PASSWORD=breakpoint


REDIS_NOTIFICATION_CHANNEL=notification-service
REDIS_SOCIAL_CHANNEL=social-service


# CORS Origins
# Includes: local dev, WIS frontend, parent portal, workspace-mobile (via nginx proxy)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://wis.wellspring.edu.vn,https://wis-staging.wellspring.edu.vn,https://parentportal.wellspring.edu.vn,https://parentportal-staging.wellspring.edu.vn,https://admin.sis.wellspring.edu.vn
JWT_SECRET=breakpoint
# Lưu ý: JWT_SECRET phải trùng với jwt_secret bên Frappe (site_config.json)

# Frappe integration
# Bật/tắt xác thực đồng bộ với Frappe. Mặc định bật nếu không set
ENABLE_FRAPPE_SYNC=true
# FRAPPE_API_URL trỏ tới domain Frappe/ERP
FRAPPE_API_URL=https://admin.sis.wellspring.edu.vn
# Gateway/Proxy yêu cầu pass-through header Authorization.
# Nếu không chắc, BE có thể đọc token từ header phụ X-Auth-Token do proxy chuyển tiếp.
# Nếu sử dụng API Key/Secret, khai báo 2 biến sau (không bắt buộc)
# FRAPPE_API_KEY=
# FRAPPE_API_SECRET=

# User Sync Configuration
# Timeout cho API call (ms)
AUTH_TIMEOUT=20000
# URL của Social Service (dùng cho cron job)
# SOCIAL_SERVICE_URL=https://admin.sis.wellspring.edu.vn
# Token để cron job authenticate (nếu không dùng API Key/Secret)
# FRAPPE_API_TOKEN=

# Debug flags
# DEBUG_USER_EVENTS=1
# DEBUG_WEBHOOK=1
# USER_EVENT_DELETE_ENABLED=false

